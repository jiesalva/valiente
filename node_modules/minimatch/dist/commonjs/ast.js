"use strict";
// parse a single path portion
Object.defineProperty(exports, "__esModule", { value: true });
exports.AST = void 0;
const brace_expressions_js_1 = require("./brace-expressions.js");
const unescape_js_1 = require("./unescape.js");
const types = new Set(['!', '?', '+', '*', '@']);
const isExtglobType = (c) => types.has(c);
// Patterns that get prepended to bind to the start of either the
// entire string, or just a single path portion, to prevent dots
// and/or traversal patterns, when needed.
// Exts don't need the ^ or / bit, because the root binds that already.
const startNoTraversal = '(?!(?:^|/)\\.\\.?(?:$|/))';
const startNoDot = '(?!\\.)';
// characters that indicate a start of pattern needs the "no dots" bit,
// because a dot *might* be matched. ( is not in the list, because in
// the case of a child extglob, it will handle the prevention itself.
const addPatternStart = new Set(['[', '.']);
// cases where traversal is A-OK, no dot prevention needed
const justDots = new Set(['..', '.']);
const reSpecials = new Set('().*{}+?[]^$\\!');
const regExpEscape = (s) => s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, '\\$&');
// any single thing other than /
const qmark = '[^/]';
// * => any number of characters
const star = qmark + '*?';
// use + when we need to ensure that *something* matches, because the * is
// the only thing in the path portion.
const starNoEmpty = qmark + '+?';
// remove the \ chars that we added if we end up doing a nonmagic compare
// const deslash = (s: string) => s.replace(/\\(.)/g, '$1')
class AST {
    type;
    #root;
    #hasMagic;
    #uflag = false;
    #parts = [];
    #parent;
    #parentIndex;
    #negs;
    #filledNegs = false;
    #options;
    #toString;
    // set to true if it's an extglob with no children
    // (which really means one child of '')
    #emptyExt = false;
    constructor(type, parent, options = {}) {
        this.type = type;
        // extglobs are inherently magical
        if (type)
            this.#hasMagic = true;
        this.#parent = parent;
        this.#root = this.#parent ? this.#parent.#root : this;
        this.#options = this.#root === this ? options : this.#root.#options;
        this.#negs = this.#root === this ? [] : this.#root.#negs;
        if (type === '!' && !this.#root.#filledNegs)
            this.#negs.push(this);
        this.#parentIndex = this.#parent ? this.#parent.#parts.length : 0;
    }
    get hasMagic() {
        /* c8 ignore start */
        if (this.#hasMagic !== undefined)
            return this.#hasMagic;
        /* c8 ignore stop */
        for (const p of this.#parts) {
            if (typeof p === 'string')
                continue;
            if (p.type || p.hasMagic)
                return (this.#hasMagic = true);
        }
        // note: will be undefined until we generate the regexp src and find out
        return this.#hasMagic;
    }
    // reconstructs the pattern
    toString() {
        if (this.#toString !== undefined)
            return this.#toString;
        if (!this.type) {
            return (this.#toString = this.#parts.map(p => String(p)).join(''));
        }
        else {
            return (this.#toString =
                this.type + '(' + this.#parts.map(p => String(p)).join('|') + ')');
        }
    }
    #fillNegs() {
        /* c8 ignore start */
        if (this !== this.#root)
            throw new Error('should only call on root');
        if (this.#filledNegs)
            return this;
        /* c8 ignore stop */
        // call toString() once to fill this out
        this.toString();
        this.#filledNegs = true;
        let n;
        while ((n = this.#negs.pop())) {
            if (n.type !== '!')
                continue;
            // walk up the tree, appending everthing that comes AFTER parentIndex
            let p = n;
            let pp = p.#parent;
            while (pp) {
                for (let i = p.#parentIndex + 1; !pp.type && i < pp.#parts.length; i++) {
                    for (const part of n.#parts) {
                        /* c8 ignore start */
                        if (typeof part === 'string') {
                            throw new Error('string part in extglob AST??');
                        }
                        /* c8 ignore stop */
                        part.copyIn(pp.#parts[i]);
                    }
                }
                p = pp;
                pp = p.#parent;
            }
        }
        return this;
    }
    push(...parts) {
        for (const p of parts) {
            if (p === '')
                continue;
            /* c8 ignore start */
            if (typeof p !== 'string' && !(p instanceof AST && p.#parent === this)) {
                throw new Error('invalid part: ' + p);
            }
            /* c8 ignore stop */
            this.#parts.push(p);
        }
    }
    toJSON() {
        const ret = this.type === null
            ? this.#parts.slice().map(p => (typeof p === 'string' ? p : p.toJSON()))
            : [this.type, ...this.#parts.map(p => p.toJSON())];
        if (this.isStart() && !this.type)
            ret.unshift([]);
        if (this.isEnd() &&
            (this === this.#root ||
                (this.#root.#filledNegs && this.#parent?.type === '!'))) {
            ret.push({});
        }
        return ret;
    }
    isStart() {
        if (this.#root === this)
            return true;
        // if (this.type) return !!this.#parent?.isStart()
        if (!this.#parent?.isStart())
            return false;
        if (this.#parentIndex === 0)
            return true;
        // if everything AHEAD of this is a negation, then it's still the "start"
        const p = this.#parent;
        for (let i = 0; i < this.#parentIndex; i++) {
            const pp = p.#parts[i];
            if (!(pp instanceof AST && pp.type === '!')) {
                return false;
            }
        }
        return true;
    }
    isEnd() {
        if (this.#root === this)
            return true;
        if (this.#parent?.type === '!')
            return true;
        if (!this.#parent?.isEnd())
            return false;
        if (!this.type)
            return this.#parent?.isEnd();
        // if not root, it'll always have a parent
        /* c8 ignore start */
        const pl = this.#parent ? this.#parent.#parts.length : 0;
        /* c8 ignore stop */
        return this.#parentIndex === pl - 1;
    }
    copyIn(part) {
        if (typeof part === 'string')
            this.push(part);
        else
            this.push(part.clone(this));
    }
    clone(parent) {
        const c = new AST(this.type, parent);
        for (const p of this.#parts) {
            c.copyIn(p);
        }
        return c;
    }
    static #parseAST(str, ast, pos, opt) {
        let escaping = false;
        let inBrace = false;
        let braceStart = -1;
        let braceNeg = false;
        if (ast.type === null) {
            // outside of a extglob, append until we find a start
            let i = pos;
            let acc = '';
            while (i < str.length) {
                const c = str.charAt(i++);
                // still accumulate escapes at this point, but we do ignore
                // starts that are escaped
                if (escaping || c === '\\') {
                    escaping = !escaping;
                    acc += c;
                    continue;
                }
                if (inBrace) {
                    if (i === braceStart + 1) {
                        if (c === '^' || c === '!') {
                            braceNeg = true;
                        }
                    }
                    else if (c === ']' && !(i === braceStart + 2 && braceNeg)) {
                        inBrace = false;
                    }
                    acc += c;
                    continue;
                }
                else if (c === '[') {
                    inBrace = true;
                    braceStart = i;
                    braceNeg = false;
                    acc += c;
                    continue;
                }
                if (!opt.noext && isExtglobType(c) && str.charAt(i) === '(') {
                    ast.push(acc);
                    acc = '';
                    const ext = new AST(c, ast);
                    i = AST.#parseAST(str, ext, i, opt);
                    ast.push(ext);
                    continue;
                }
                acc += c;
            }
            ast.push(acc);
            return i;
        }
        // some kind of extglob, pos is at the (
        // find the next | or )
        let i = pos + 1;
        let part = new AST(null, ast);
        const parts = [];
        let acc = '';
        while (i < str.length) {
            const c = str.charAt(i++);
            // still accumulate escapes at this point, but we do ignore
            // starts that are escaped
            if (escaping || c === '\\') {
                escaping = !escaping;
                acc += c;
                continue;
            }
            if (inBrace) {
                if (i === braceStart + 1) {
                    if (c === '^' || c === '!') {
                        braceNeg = true;
                    }
                }
                else if (c === ']' && !(i === braceStart + 2 && braceNeg)) {
                    inBrace = false;
                }
                acc += c;
                continue;
            }
            else if (c === '[') {
                inBrace = true;
                braceStart = i;
                braceNeg = false;
                acc += c;
                continue;
            }
            if (isExtglobType(c) && str.charAt(i) === '(') {
                part.push(acc);
                acc = '';
                const ext = new AST(c, part);
                part.push(ext);
                i = AST.#parseAST(str, ext, i, opt);
                continue;
            }
            if (c === '|') {
                part.push(acc);
                acc = '';
                parts.push(part);
                part = new AST(null, ast);
                continue;
            }
            if (c === ')') {
                if (acc === '' && ast.#parts.length === 0) {
                    ast.#emptyExt = true;
                }
                part.push(acc);
                acc = '';
                ast.push(...parts, part);
                return i;
            }
            acc += c;
        }
        // unfinished extglob
        // if we got here, it was a malformed extglob! not an extglob, but
        // maybe something else in there.
        ast.type = null;
        ast.#hasMagic = undefined;
        ast.#parts = [str.substring(pos - 1)];
        return i;
    }
    static fromGlob(pattern, options = {}) {
        const ast = new AST(null, undefined, options);
        AST.#parseAST(pattern, ast, 0, options);
        return ast;
    }
    // returns the regular expression if there's magic, or the unescaped
    // string if not.
    toMMPattern() {
        // should only be called on root
        /* c8 ignore start */
        if (this !== this.#root)
            return this.#root.toMMPattern();
        /* c8 ignore stop */
        const glob = this.toString();
        const [re, body, hasMagic, uflag] = this.toRegExpSource();
        // if we're in nocase mode, and not nocaseMagicOnly, then we do
        // still need a regular expression if we have to case-insensitively
        // match capital/lowercase characters.
        const anyMagic = hasMagic ||
            this.#hasMagic ||
            (this.#options.nocase &&
                !this.#options.nocaseMagicOnly &&
                glob.toUpperCase() !== glob.toLowerCase());
        if (!anyMagic) {
            return body;
        }
        const flags = (this.#options.nocase ? 'i' : '') + (uflag ? 'u' : '');
        return Object.assign(new RegExp(`^${re}$`, flags), {
            _src: re,
            _glob: glob,
        });
    }
    get options() {
        return this.#options;
    }
    // returns the string match, the regexp source, whether there's magic
    // in the regexp (so a regular expression is required) and whether or
    // not the uflag is needed for the regular expression (for posix classes)
    // TODO: instead of inº–∞—ö–∞ —Å—É —É —Ç–æ–∫—É.–ü—Ä–µ—É–∑–∏–º–∞—ö–µ —ò–µ –ø–∞—É–∑–∏—Ä–∞–Ω–æ –Ω–∞–∫–æ–Ω $1%–ü—Ä–µ—É–∑–∏–º–∞—ö–µ —ò–µ –¥–æ–≤—Ä—à–µ–Ω–æ. –ü—Ä–∏—Ç–∏—Å–Ω–∏—Ç–µ $1 –¥–∞ –±–∏—Å—Ç–µ –æ—Ç–∏—à–ª–∏ —É ‚Äû–ü—Ä–µ—É–∑–∏–º–∞—ö–∞‚Äú.–ü—Ä–µ—É–∑–∏–º–∞—ö–∞ —Å—É –¥–æ–≤—Ä—à–µ–Ω–∞–ü—Ä–µ—É–∑–∏–º–∞—ö–µ —ò–µ —É —Ç–æ–∫—É, $1, $2. –î–∞—Ç–æ—Ç–µ–∫–∞ –∑–∞—Ö—Ç–µ–≤–∞ –ø–∞–∂—ö—É, –ø—Ä–∏—Ç–∏—Å–Ω–∏—Ç–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏—ò—É —Ç–∞—Å—Ç–µ—Ä–∞ $3 –¥–∞ –±–∏—Å—Ç–µ –æ—Ç–∏—à–ª–∏ —É –ø—Ä–µ—É–∑–∏–º–∞—ö–∞.–ü—Ä–µ—É–∑–∏–º–∞—ö–µ, $1, $2. –û–±—Ä–∞—Ç–∏—Ç–µ –ø–∞–∂—ö—É –Ω–∞ –¥–∞—Ç–æ—Ç–µ–∫—É.–ü—Ä–µ—É–∑–∏–º–∞—ö–µ —ò–µ —É —Ç–æ–∫—É, $1, $2–°–∞–¥—Ä–∂–∏ 1 –∫–æ–Ω—Ç—Ä–æ–ª—É–°–∞–¥—Ä–∂–∏ –∫–æ–Ω—Ç—Ä–æ–ª–µ ($1)–£–≤–µ–∫ –æ—Ç–≤–∞—Ä–∞—ò $1 pinned–ó–∞–∫–∞—á–∏ $1–û—Ç–∫–∞—á–∏ $1–ó–∞—Ç–≤–æ—Ä–∏ $1–ö—É–ø–æ–≤–∏–Ω–∞–ì–µ–Ω–µ—Ä–∏—à–∏—Ç–µ –∫—ô—É—á–Ω–µ –∑–∞–∫—ô—É—á–∫–µ –∑–∞ –æ–≤—É –≤–µ–± —Å—Ç—Ä–∞–Ω–∏—Ü—É–ü—Ä–∏—Å—Ç—É–ø–∞—ò—Ç–µ –Ω–∞—ò–±–æ—ô–∏–º —Ñ—É–Ω–∫—Ü–∏—ò–∞–º–∞ —É –ø—Ä–µ–≥–ª–µ–¥–∞—á—É Microsoft Edge–û–≤–∞ —Ñ—É–Ω–∫—Ü–∏—ò–∞ —Å–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑—É—ò–µ —Å–∞ –≤–∞—à–∏–º –Ω–∞–ª–æ–≥–æ–º –¥–∞ –±–∏ –≤–∞–º –ø—Ä—É–∂–∏–ª–∞ –Ω–∞—ò–±–æ—ô–∏ —É—Ç–∏—Å–∞–∫ –ø—Ä–∏ —Ä–∞–¥—É. –ü—Ä–∏—ò–∞–≤–∏—Ç–µ —Å–µ –¥–∞ –±–∏—Å—Ç–µ –Ω–∞—Å—Ç–∞–≤–∏–ª–∏.–ü—Ä–∏—ò–∞–≤–∏—Ç–µ —Å–µ –¥–∞ –±–∏—Å—Ç–µ –∫–æ—Ä–∏—Å—Ç–∏–ª–∏ $1 –Ω–∞ –±–æ—á–Ω–æ—ò —Ç—Ä–∞—Ü–∏.—á–µ–∫–∞—ö–µ‚Ä¶–û–¥–∞–±–µ—Ä–∏—Ç–µ ‚Äû–ü—Ä–∏—ò–∞–≤–∏ —Å–µ‚Äú —É –Ω–∞—Å—Ç–∞–≤–∫—É –¥–∞ –±–∏—Å—Ç–µ –∫–æ—Ä–∏—Å—Ç–∏–ª–∏ –æ–≤—É –∞–ø–ª–∏–∫–∞—Ü–∏—ò—É —É–∑ Microsoft Edge –∞–∫—Ä–µ–¥–∏—Ç–∏–≤–µ.–ë–æ—á–Ω–æ –æ–∫–Ω–æ —Å–∞–¥–∞ –ø—Ä–∏–∫–∞–∑—É—ò–µ Wallet Checkout.–û–±–∞–≤–µ—à—Ç–µ—ö–µ —ò–µ –¥–æ–¥–∞—Ç–æ.–î–µ—Ç–∞—ô–∏ —Ü–∏—Ç–∞—Ç–∞–ü—Ä–µ—Ç—Ä–∞–≥–µ —É —Ç—Ä–µ–Ω–¥—É–í–µ–±–û–≤–∞ –ª–æ–∫–∞—Ü–∏—ò–∞–ü—Ä–æ–Ω–∞—í–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∏–†–µ–∑—É–ª—Ç–∞—Ç–∏ —Å–∞ –≤–µ–±–∞ –∑–∞ $1–†–µ–∑—É–ª—Ç–∞—Ç–∏ —Å–∞ –¥–æ–º–µ–Ω–∞ $1 –∑–∞ $2–û—Å–≤–µ–∂–∏ —Ä–µ–∑—É–ª—Ç–∞—Ç–µ–û—Å–≤–µ–∂–∏ —Ä–µ–∑—É–ª—Ç–∞—Ç–µ –∑–∞ –∫–æ—Ä–∏—à—õ–µ—ö–µ —É—Å–ª—É–≥–µ: $1–†–µ–∑—É–ª—Ç–∞—Ç–∏ —Å–∞:–ü—Ä–µ—Ç—Ä–∞–≥–∞ –æ–≤–æ–≥ –≤–µ–± —Å–∞—ò—Ç–∞–û–≤–∞—ò –≤–µ–± —Å–∞—ò—Ç –º–æ–∂–µ—Ç–µ –ø—Ä–µ—Ç—Ä–∞–∂–∏—Ç–∏ —É–ø—Ä–∞–≤–æ –æ–≤–¥–µ!–£ –∑–∞–≤–∏—Å–Ω–æ—Å—Ç–∏ –æ–¥ —Å–∞—ò—Ç–∞, –º–æ–∂–µ–º–æ –¥–∞ –≤–∞–º –ø—Ä—É–∂–∏–º–æ –±–∏–ª–æ —à—Ç–∞ –æ–¥ –∞–∫–∞–¥–µ–º—Å–∫–∏—Ö –¥–æ–≥–∞—í–∞—ò–∞ –¥–æ –∫–∞–ª–µ–Ω–¥–∞—Ä–∞ –∑–æ–æ –≤—Ä—Ç–∞.–¢—Ä–µ–Ω—É—Ç–Ω–æ –ø—Ä–µ—Ç—Ä–∞–∂—É—ò–µ: $1–û–ø—Å–µ–∑–∏ –ø—Ä–µ—Ç—Ä–∞–≥–µ–û–ø—Å–µ–≥: $1<div name="images" class="snippet-images-div">
                <img class="snippet-image-main" width="200" src="$1" />
            </div>

            <div name="spacer" class="snippet-spacer-div">
            </div>–£—í–∏ —É –ø—Ä–∏–∫–∞–∑ –ø—Ä–µ–∫–æ —Ü–µ–ª–æ–≥ –µ–∫—Ä–∞–Ω–∞ (F11)–ó–∞–≥–ª–∞–≤—ô–µ Bing —õ–∞—Å–∫–∞—ö–∞Copilot –∑–∞–≥–ª–∞–≤—ô–µ–£–ø–æ—Ä–µ–¥–Ω–∞ —Ç—Ä–∞–∫–∞ –∑–∞ –ø—Ä–µ—Ç—Ä–∞–≥—É–ü–æ–Ω–æ–≤–Ω–æ –ø–æ–≤–µ–∑–∏–≤–∞—ö–µ —Ä–∞–¥–Ω–æ–≥ –ø—Ä–æ—Å—Ç–æ—Ä–∞–¢—Ä–∞–∫–∞ –∞–ø–ª–∏–∫–∞—Ü–∏—ò–∞–ü–æ–º–∞–∂–µ —É —Å–ø—Ä–µ—á–∞–≤–∞—ö—É –ø—Ä–µ—É–∑–∏–º–∞—ö–∞ –Ω–∞–ª–æ–≥–∞–ë—Ä–∑–æ –∞–∂—É—Ä–∏—Ä–∞—ö–µ –ª–æ–∑–∏–Ω–∫–∏–£–ø–æ–∑–æ—Ä–µ—ö–∞ –∑–∞ –ø—Ä–æ—Ü—É—Ä–µ–ª–µ –ª–æ–∑–∏–Ω–∫–µ–£–∫—ô—É—á–∏—Ç–µ –∑–∞—à—Ç–∏—Ç—É –ª–æ–∑–∏–Ω–∫–µ–ó–∞—à—Ç–∏—Ç–∏—Ç–µ –ª–æ–∑–∏–Ω–∫—ÉTencent QQ –ø—Ä–µ–≥–ª–µ–¥–∞—á360 Secure –ø—Ä–µ–≥–ª–µ–¥–∞—á360 Extreme –ø—Ä–µ–≥–ª–µ–¥–∞—á360 ExtremeX –ø—Ä–µ–≥–ª–µ–¥–∞—á (64-–±–∏—Ç–Ω–∏)CSV –¥–∞—Ç–æ—Ç–µ–∫–∞ –ª–æ–∑–∏–Ω–∫–∏Google Chrome–í–∏ —Å—Ç–µ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ–í–∏–í—Ä–∞—Ç–∏ –Ω–∞–¥–æ–ª–µ–û–ø–∏—à–∏—Ç–µ —à—Ç–∞ —Å–µ –¥–µ—à–∞–≤–∞–ü–∞–∑–∏—Ç–µ –¥–∞ –Ω–µ —É–∫—ô—É—á–∏—Ç–µ –ª–∏—á–Ω–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—ò–µ –∫–∞–æ —à—Ç–æ —Å—É –±—Ä–æ—ò–µ–≤–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–∞.–£–∫—ô—É—á–∏ –∞–¥—Ä–µ—Å—É –µ-–ø–æ—à—Ç–µ–ú–æ–∂–µ—Ç–µ –¥–∞ –º–∏ —Å–µ –æ–±—Ä–∞—Ç–∏—Ç–µ —É –≤–µ–∑–∏ —Å–∞ –æ–≤–∏–º –ø–æ–≤—Ä–∞—Ç–Ω–∏–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—ò–∞–º–∞:–£–∫—ô—É—á–∏ –æ–≤–∞—ò —Å–Ω–∏–º–∞–∫ –µ–∫—Ä–∞–Ω–∞–£—Ä–µ–¥–∏—Ç–µ –æ–≤–∞—ò —Å–Ω–∏–º–∞–∫ –µ–∫—Ä–∞–Ω–∞. –û—Ç–≤–æ—Ä–∏—Ç–µ —É—Ä–µ—í–∏–≤–∞—á —Å–Ω–∏–º–∞–∫–∞ –µ–∫—Ä–∞–Ω–∞ –¥–∞ –±–∏—Å—Ç–µ –∏–∑–º–µ–Ω–∏–ª–∏ —Å–Ω–∏–º–∞–∫ –µ–∫—Ä–∞–Ω–∞ —Ä–∞–¥–Ω–µ –ø–æ–≤—Ä—à–∏–Ω–µ –∏ –ø—Ä–æ–∑–æ—Ä–µ –ø—Ä–µ–≥–ª–µ–¥–∞—á–∞ Microsoft Edge. –£–ø–æ–∑–æ—Ä–µ—ö–µ: –º–æ–∂–µ –¥–∞ —Å–∞–¥—Ä–∂–∏ –æ—Å–µ—Ç—ô–∏–≤–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—ò–µ.–£—Ä–µ–¥–∏ –æ–≤–∞—ò —Å–Ω–∏–º–∞–∫ –µ–∫—Ä–∞–Ω–∞–ü–æ—à–∞—ô–∏ <a href="#" id="sys-info-url">–¥–∏—ò–∞–≥–Ω–æ—Å—Ç–∏—á–∫–µ –ø–æ–¥–∞—Ç–∫–µ</a> (–ø—Ä–µ–ø–æ—Ä—É—á–µ–Ω–æ)–ü–æ—à–∞—ô–∏—Ç–µ <a href="#" id="diagnostic-data-link">–¥–∏—ò–∞–≥–Ω–æ—Å—Ç–∏—á–∫–µ –ø–æ–¥–∞—Ç–∫–µ</a> –∫–æ–º–ø–∞–Ω–∏—ò–∏ Microsoft–î–æ–∑–≤–æ–ª–∏ (–ø—Ä–µ–ø–æ—Ä—É—á—É—ò–µ —Å–µ)–ü–æ–≤—Ä–∞—Ç–Ω–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—ò–µ –∫–æ—ò–µ –Ω–∞–º —à–∞—ô–µ—Ç–µ –∫–æ—Ä–∏—Å—Ç–∏—õ–µ —Å–µ –∑–∞ —É–Ω–∞–ø—Ä–µ—í–∏–≤–∞—ö–µ Microsoft –ø—Ä–æ–∏–∑–≤–æ–¥–∞ –∏ —É—Å–ª—É–≥–∞. –ê–∫–æ –Ω–∞–≤–µ–¥–µ—Ç–µ –∞–¥—Ä–µ—Å—É, –ø—Ä–∏—Ö–≤–∞—Ç–∞—Ç–µ –¥–∞ Microsoft –º–æ–∂–µ –¥–∞ –≤–∞–º —à–∞—ô–µ –µ-–ø–æ—Ä—É–∫–µ –æ –≤–∞—à–∏–º –ø–æ–≤—Ä–∞—Ç–Ω–∏–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—ò–∞–º–∞. <a href="#" id="privacy-statement-page-url">Microsoft –∏–∑—ò–∞–≤–∞ –æ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏</a><a href="#" id="report-concern-page-url">–ò–∑–≤–µ—à—Ç–∞—ò –æ –∑–∞–±—Ä–∏–Ω—É—Ç–æ—Å—Ç–∏</a>–ü—Ä–∏–ª–æ–∑–∏–ü—Ä–∏–ª–æ–∑–∏ ($1)–°–Ω–∏–º–∏ –º–æ—ò –ø—Ä–æ–±–ª–µ–º–°–Ω–∏–º–∏ –º–æ—ò –ø—Ä–æ–±–ª–µ–º ($1)–°–∞—á—É–≤–∞—ò –∏ —É–∫—ô—É—á–∏–ó–¥—Ä–∞–≤–æ, –Ω–∏—Å—Ç–µ –ø—Ä–∏—ò–∞–≤—ô–µ–Ω–∏ —É –∞–ø–ª–∏–∫–∞—Ü–∏—ò—É Microsoft Edge. –ü—Ä–∏—ò–∞–≤—ô–∏–≤–∞—ö–µ–º —Å–µ –ø—Ä–∞—Ç–µ –≤–∞—à–µ –ø–æ–≤—Ä–∞—Ç–Ω–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—ò–µ. <a href="#" id="browser-sign-in">–ü—Ä–∏—ò–∞–≤–∏—Ç–µ —Å–µ –æ–¥–º–∞—Ö</a>–ù–∏—Å—Ç–µ –ø–æ–≤–µ–∑–∞–Ω–∏ —Å–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º. –ü–æ–∫—É—à–∞—ò—Ç–µ –ø–æ–Ω–æ–≤–æ –¥–∞ —Å–µ –ø–æ–≤–µ–∂–µ—Ç–µ –∫–æ—Ä–∏—Å—Ç–µ—õ–∏ <a href="#" id="launch-network-setting">–ø–æ—Å—Ç–∞–≤–∫–µ –º—Ä–µ–∂–µ –∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ —Å–∏—Å—Ç–µ–º–∞ Windows.</a>–£—Ä–µ—í–∏–≤–∞—á —Å–Ω–∏–º–∞–∫–∞ –µ–∫—Ä–∞–Ω–∞–ò–∑—Ä–µ–∂–∏–ë–æ—ò–µ–ë–æ—ò–∞ –æ–ª–æ–≤–∫–µ –∏ –±–∏—Ä–∞—á –≤–µ–ª–∏—á–∏–Ω–µ–û–±–ª–∞—Å—Ç –∑–∞ –∏—Å–µ—Ü–∞—ö–µ–†–µ–≥—É–ª–∞—Ç–æ—Ä –∑–∞ –∏–∑—Ä–µ–∑–∏–≤–∞—ö–µ —Å–∞ –¥–æ—ö–µ –ª–µ–≤–µ —Å—Ç—Ä–∞–Ω–µ–†–µ–≥—É–ª–∞—Ç–æ—Ä –∑–∞ –∏–∑—Ä–µ–∑–∏–≤–∞—ö–µ —Å–∞ –¥–æ—ö–µ –¥–µ—Å–Ω–µ —Å—Ç—Ä–∞–Ω–µ–†–µ–≥—É–ª–∞—Ç–æ—Ä –∑–∞ –∏–∑—Ä–µ–∑–∏–≤–∞—ö–µ —Å–∞ –≥–æ—Ä—ö–µ –ª–µ–≤–µ —Å—Ç—Ä–∞–Ω–µ–†–µ–≥—É–ª–∞—Ç–æ—Ä –∑–∞ –∏–∑—Ä–µ–∑–∏–≤–∞—ö–µ —Å–∞ –≥–æ—Ä—ö–µ –¥–µ—Å–Ω–µ —Å—Ç—Ä–∞–Ω–µ–û–±—Ä–∞—Ç–∏—Ç–µ —Å–µ –ø–æ–¥—Ä—à—Ü–∏–ö–∞–∫–æ –º–æ–∂–µ–º–æ –¥–∞ –ø–æ–º–æ–≥–Ω–µ–º–æ?–ü–æ—à–∞—ô–∏ –æ–¥–º–∞—Ö–†–µ—Ü–∏—Ç–µ –Ω–∞–º –≤–∏—à–µ–ü–æ–≤—Ä–∞—Ç–Ω–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—ò–µ –∫–æ—ò–µ –Ω–∞–º —à–∞—ô–µ—Ç–µ –∫–æ—Ä–∏—Å—Ç–∏—õ–µ —Å–µ –∑–∞ —É–Ω–∞–ø—Ä–µ—í–∏–≤–∞—ö–µ Microsoft –ø—Ä–æ–∏–∑–≤–æ–¥–∞ –∏ —É—Å–ª—É–≥–∞. <a href="#" id="privacy-statement-page-url">Microsoft –∏–∑—ò–∞–≤–∞ –æ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏</a>–ü—Ä–µ–ø–æ—Ä—É—á–∏ Microsoft Edge–ö–æ–ª–∏–∫–æ —ò–µ –≤–µ—Ä–æ–≤–∞—Ç–Ω–æ –¥–∞ —õ–µ—Ç–µ –ø—Ä–µ–ø–æ—Ä—É—á–∏—Ç–∏ Microsoft Edge –ø—Ä–∏—ò–∞—Ç–µ—ô—É –∏–ª–∏ –∫–æ–ª–µ–≥–∏?–î–∞ –ª–∏ –±–∏—Å—Ç–µ –ø—Ä–µ–ø–æ—Ä—É—á–∏–ª–∏ –¥—Ä—É–≥–∏–º–∞ Microsoft Edge, –∞–∫–æ –≤–∞—Å –ø–∏—Ç–∞—ò—É?–ö–æ–ª–∏–∫–æ —Å—Ç–µ —Å–≤–µ—É–∫—É–ø–Ω–æ –∑–∞–¥–æ–≤–æ—ô–Ω–∏ –ø—Ä–µ–≥–ª–µ–¥–∞—á–µ–º Microsoft Edge?–ù–∏–º–∞–ª–æ –≤–µ—Ä–æ–≤–∞—Ç–Ω–æ–ù–µ –±–∏—Ö –ø—Ä–µ–ø–æ—Ä—É—á–∏–æ–ù–µ–∑–∞–¥–æ–≤–æ—ô–∞–Ω/–Ω–∞–ú–∞–ª–æ –≤–µ—Ä–æ–≤–∞—Ç–Ω–æ–ù–µ—É—Ç—Ä–∞–ª–Ω–æ–í–µ—Ä–æ–≤–∞—Ç–Ω–æ–í—Ä–ª–æ –≤–µ—Ä–æ–≤–∞—Ç–Ω–æ–ü—Ä–µ–ø–æ—Ä—É—á–∏–æ –±–∏—Ö–ó–∞–¥–æ–≤–æ—ô–∞–Ω/–Ω–∞–†–µ—Ü–∏—Ç–µ –Ω–∞–º –≤–∏—à–µ –æ –≤–∞—à–æ—ò –æ—Ü–µ–Ω–∏–î–∞ –ª–∏ –±–∏—Å—Ç–µ –ø—Ä–µ–ø–æ—Ä—É—á–∏–ª–∏ –¥—Ä—É–≥–∏–º–∞ Microsoft Edge $1, –∞–∫–æ –≤–∞—Å –ø–∏—Ç–∞—ò—É?–ö–æ–ª–∏–∫–æ —Å—Ç–µ —Å–≤–µ—É–∫—É–ø–Ω–æ –∑–∞–¥–æ–≤–æ—ô–Ω–∏ –ø—Ä–µ–≥–ª–µ–¥–∞—á–µ–º Microsoft Edge $1?–î–∏—ò–∞–≥–Ω–æ—Å—Ç–∏—á–∫–∏ –ø–æ–¥–∞—Ü–∏–î–∏—ò–∞–≥–Ω–æ—Å—Ç–∏—á–∫–µ –µ–≤–∏–¥–µ–Ω—Ü–∏—ò–µ–ü–æ–Ω–æ–≤–∏ –º–æ—ò –ø—Ä–æ–±–ª–µ–º–ü—Ä–∏–ª–æ–∂–∏ –¥–∞—Ç–æ—Ç–µ–∫—É–ü–æ–∫—É—à–∞—ò—Ç–µ –¥–∞ –ø–æ–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º –¥–æ–∫ —Å–Ω–∏–º–∞–º–æ –ø–æ–¥–∞—Ç–∫–µ–ü—Ä–∏—Ö–≤–∞—Ç–∞–º –¥–∞ –∫–æ—Ä–ø–æ—Ä–∞—Ü–∏—ò–∏ Microsoft —à–∞—ô–µ–º –¥–∏—ò–∞–≥–Ω–æ—Å—Ç–∏—á–∫–µ –ø–æ–¥–∞—Ç–∫–µ –∫–æ—ò–∏ –º–æ–≥—É –¥–∞ —É–∫—ô—É—á—É—ò—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—ò–µ —Å–∞ –ª–∏—á–Ω–∏–º –ø–æ–¥–∞—Ü–∏–º–∞ –∫–æ—ò–∏ —Å–µ –º–æ–≥—É –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–æ–≤–∞—Ç–∏. –û–≤–∏ –ø–æ–¥–∞—Ü–∏ —õ–µ —Å–µ –∫–æ—Ä–∏—Å—Ç–∏—Ç–∏ —Å–∞–º–æ –∑–∞ —Ä–µ—à–∞–≤–∞—ö–µ –º–æ–≥ –ø—Ä–æ–±–ª–µ–º–∞.–ü—Ä–∞—õ–µ—ö–µ –∑–∞–ø–∏—Å–∞–ò–∑–∞–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—ò—É ‚Äû–î–∞‚Äú –∫–∞–¥–∞ –±—É–¥–µ—Ç–µ —É–ø–∏—Ç–∞–Ω–∏ –¥–∞ –¥–æ–∑–≤–æ–ª–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º—É Windows Performance Recorder –¥–∞ –ø–æ–∫—Ä–µ–Ω–µ –∏ –∑–∞—É—Å—Ç–∞–≤–∏ —Å–Ω–∏–º–∞—ö–µ.–ï–≤–∏–¥–µ–Ω—Ü–∏—ò–∞ –º—Ä–µ–∂–µ–ï–≤–∏–¥–µ–Ω—Ü–∏—ò–∞ –ø—Ä–∞—õ–µ—ö–∞ –¥–æ–≥–∞—í–∞—ò–∞–ü—Ä–∞—õ–µ—ö–µ —Ä–µ–ø—Ä–æ–¥—É–∫—Ü–∏—ò–µ –º–µ–¥–∏—ò–∞–ü—Ä–∞—õ–µ—ö–µ –∫–∞–º–µ—Ä–µ–°–Ω–∏–º—ô–µ–Ω–∏ –≤–∏–¥–µ–æ –∑–∞–ø–∏—Å–ù–∏—ò–µ –º–æ–≥—É—õ–µ –ø—Ä–∏–∫–∞–∑–∞—Ç–∏ –µ–≤–∏–¥–µ–Ω—Ü–∏—ò—É –ø—Ä–∞—õ–µ—ö–∞ –¥–æ–≥–∞—í–∞—ò–∞ —ò–µ—Ä —ò–µ —Ç–æ —Ç—Ä–∞–≥ protobuf —Ñ–æ—Ä–º–∞—Ç–∞. –°–∞—á—É–≤–∞—ò—Ç–µ –¥–æ–ª–µ–Ω–∞–≤–µ–¥–µ–Ω—É –¥–∞—Ç–æ—Ç–µ–∫—É –∑–∞ –ø—Ä–∞—õ–µ—ö–µ –∏ —É–º–µ—Å—Ç–æ —Ç–æ–≥–∞ —ò–µ –ø—Ä–∏–∫–∞–∂–∏—Ç–µ —É –∫–æ—Ä–∏—Å–Ω–∏—á–∫–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ—ò—Å—É <a href="#" id="perfetto-ui-page-url">Perfetto</a>.Microsoft Edge –Ω–µ –º–æ–∂–µ –¥–∞ –æ—Ç–≤–æ—Ä–∏ –æ–≤–∞—ò —Ç–∏–ø –¥–∞—Ç–æ—Ç–µ–∫–µ.–û–¥–∞–±–µ—Ä–∏—Ç–µ –¥–∞—Ç–æ—Ç–µ–∫—É –∑–∞ –æ—Ç–ø—Ä–µ–º–∞—ö–µ–û—Ç–ø—Ä–µ–º–∏—Ç–µ –¥–æ 5 –¥–∞—Ç–æ—Ç–µ–∫–∞, –æ–¥ –∫–æ—ò–∏—Ö —Å–≤–∞–∫–∞ –∏–º–∞ –º–∞—ö–µ –æ–¥ 25 MB.–ù–µ –º–æ–∂–µ—Ç–µ –¥–∞ –æ—Ç–ø—Ä–µ–º–∏—Ç–µ –≤–∏—à–µ –æ–¥ 5 –¥–∞—Ç–æ—Ç–µ–∫–∞.–ù–µ –º–æ–∂–µ—Ç–µ –¥–∞ –æ—Ç–ø—Ä–µ–º–∞—Ç–µ –¥–∞—Ç–æ—Ç–µ–∫–µ –æ–≤–æ–≥ —Ç–∏–ø–∞:–ù–µ –º–æ–∂–µ—Ç–µ –¥–∞ –æ—Ç–ø—Ä–µ–º–∏—Ç–µ –¥–∞—Ç–æ—Ç–µ–∫–µ –≤–µ—õ–µ –æ–¥ 25 MB:–ü—Ä–∏–∫–∞–∑ –∑–∞ –ø—Ä–∏–ª–∞–≥–∞—ö–µ –¥–∞—Ç–æ—Ç–µ–∫–∞–î–∞—Ç–æ—Ç–µ–∫–∞ —ò–µ —É—Å–ø–µ—à–Ω–æ —É–∫–ª–æ—ö–µ–Ω–∞.–î–∞—Ç–æ—Ç–µ–∫–∞ –µ–≤–∏–¥–µ–Ω—Ü–∏—ò–µ –ø–æ–¥–µ—à–∞–≤–∞—ö–∞–î–∞—Ç–æ—Ç–µ–∫–∞ –µ–≤–∏–¥–µ–Ω—Ü–∏—ò–µ –ø—Ä–æ–≥—Ä–∞–º–∞ –∑–∞ –∏–Ω—Å—Ç–∞–ª–∞—Ü–∏—ò—É–î–∞—Ç–æ—Ç–µ–∫–∞ –µ–≤–∏–¥–µ–Ω—Ü–∏—ò–µ –ø—Ä–æ–≥—Ä–∞–º–∞ –∑–∞ –∞–∂—É—Ä–∏—Ä–∞—ö–µ–î–∞—Ç–æ—Ç–µ–∫–∞ –µ–≤–∏–¥–µ–Ω—Ü–∏—ò–µ –ø—Ä–æ–≥—Ä–∞–º–∞ –∑–∞ –∞–∂—É—Ä–∏—Ä–∞—ö–µ –ø—Ä–µ–≥–ª–µ–¥–∞—á–∞ Microsoft Edge–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑—É—ò –¥–æ–≥–∞—í–∞—ò–µ–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑—É—ò —á–≤–æ—Ä–æ–≤–µ–ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏ –∏ —Ç–µ—Ä–µ–Ω—Å–∫–µ –ø—Ä–æ–±–µ–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Å–∞–Ω–µ —Å–º–µ—Ä–Ω–∏—Ü–µ–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—ò–µ –æ —á–∏—Ç–∞—ö—É –Ω–∞–≥–ª–∞—Å–ü—Ä–µ–≤–µ–¥–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—ò–µ–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—ò–µ –∑–∞ –∞—É—Ç–æ–º–∞—Ç—Å–∫–æ –ø–æ–ø—É—ö–∞–≤–∞—ö–µ–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—ò–µ –æ –µ–≤–∏–¥–µ–Ω—Ü–∏—ò–∞–º–∞ –ª–æ–∑–∏–Ω–∫–∏–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—ò–µ –æ —Å–ø—Ä–µ—á–∞–≤–∞—ö—É –ø—Ä–∞—õ–µ—ö–∞–ê—É—Ç–æ–º–∞—Ç—Å–∫–µ Https –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—ò–µ–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—ò–µ –æ GPU-—É–ö–æ–¥–æ–≤–∏ –≥—Ä–µ—à–∞–∫–∞ –∫–∞–º–µ—Ä–µ–î–∏—ò–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –º–∏–≥—Ä–∞—Ü–∏—ò–µ –ø–æ–¥–∞—Ç–∞–∫–∞Media Internals–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—ò–µ –æ –∏–∑–≤–µ—à—Ç–∞—ò—É –æ –ø–∞–¥—É–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑—É—ò –ø–æ–Ω–∏—à—Ç–∞–≤–∞—ö–∞–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑—É—ò –≤–µ–∫—Ç–æ—Ä–µ –∫–æ—Ä–µ–ª–∞—Ü–∏—ò–µ–ú–µ—Ç–∞–ø–æ–¥–∞—Ü–∏ —Ö–∏—Å—Ç–æ–≥—Ä–∞–º–∞–ü–æ–¥–∞—Ü–∏ –æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—ò–∏ –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–Ω–æ–≥ –ø—Ä–µ—Ç—Ä–∞–∂–∏–≤–∞—á–∞–ö–æ–ª–µ–∫—Ü–∏—ò–∞ ‚Äû–ú–µ—Ç–∞–ø–æ–¥–∞—Ü–∏‚Äú–î–∏—ò–∞–≥–Ω–æ—Å—Ç–∏—á–∫–∏ –ø–æ–¥–∞—Ü–∏ –æ Copilot —õ–∞—Å–∫–∞—ö—É–î–